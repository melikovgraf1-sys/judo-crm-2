# Judo CRM

Judo CRM — веб-приложение для спортивных клубов, упрощающее ведение базы учеников,
графика тренировок и результатов выступлений. Проект создан на React и использует
Tailwind CSS для быстрой вёрстки интерфейса.

## Ключевые возможности

- управление учениками и клиентами клуба;
- планирование и учёт тренировок;
- фиксация результатов соревнований;
- адаптивный интерфейс.

## Структура проекта

```
├── public/             # статические файлы и шаблон index.html
├── src/                # исходный код React-приложения
│   ├── App.jsx         # корневой компонент
│   ├── index.js        # точка входа
│   └── index.css       # глобальные стили
├── tailwind.config.js  # конфигурация Tailwind CSS
├── postcss.config.js   # настройки PostCSS
└── package.json        # зависимости и npm-скрипты
```

## Установка и запуск

```bash
npm install       # установка зависимостей
npm start         # запуск приложения в режиме разработки
npm run build     # сборка production-версии в каталог build/
```

## Настройка Firebase

1. Создайте проект в [Firebase Console](https://console.firebase.google.com/) и добавьте веб-приложение.
2. Установите SDK и зависимости:

   ```bash
   npm install firebase
   ```

3. Скопируйте конфигурацию из настроек проекта и заполните `.env`. Все значения, включая служебную учётную запись для фоновой авторизации, должны поступать из переменных окружения:

   ```env
   REACT_APP_FIREBASE_API_KEY=...
   REACT_APP_FIREBASE_AUTH_DOMAIN=...
   REACT_APP_FIREBASE_PROJECT_ID=...
   REACT_APP_FIREBASE_STORAGE_BUCKET=...
   REACT_APP_FIREBASE_MESSAGING_SENDER_ID=...
   REACT_APP_FIREBASE_APP_ID=...
   # Обязательно для работы с защищёнными правилами Firestore:
   REACT_APP_FIREBASE_AUTH_EMAIL=...
   REACT_APP_FIREBASE_AUTH_PASSWORD=...
   ```

4. Перезапустите `npm start`, чтобы подтянуть новые переменные окружения. При каждом изменении `.env` необходимо останавливать и заново запускать dev-сервер.

### Используемые сервисы

- **Firestore** — хранение данных (ученики, тренировки, результаты).
- **Authentication** — управление пользователями и авторизация.

### Включение авторизации

1. Откройте проект в Firebase Console и перейдите в раздел **Build → Authentication**.
2. Нажмите **Get Started/Начать**, чтобы активировать модуль авторизации.
3. Включите провайдер **Email/Password** (и при необходимости создайте техническую учётку через вкладку Users).
4. На вкладке **Settings** добавьте домены, с которых будет доступно приложение (например, `localhost` для разработки).
5. Убедитесь, что переменные окружения `REACT_APP_FIREBASE_AUTH_EMAIL/REACT_APP_FIREBASE_AUTH_PASSWORD` указывают на существующего пользователя. Эти данные используются приложением для фоновой авторизации перед любой записью в Firestore.

### Устранение неполадок

- Ошибка `auth/invalid-api-key` — убедитесь, что API ключ скопирован верно.
- При ошибках доступа к Firestore проверьте правила безопасности в консоли Firebase.
- Если изменения `.env` не применяются, остановите dev-сервер и запустите его снова.

## Контакты

Вопросы и предложения: [info@judocrm.dev](mailto:info@judocrm.dev)

## Планы развития

- превращение приложения в PWA;
- синхронизация данных между устройствами и офлайн-режим;
- расширение функционала CRM.

